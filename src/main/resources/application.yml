spring:
    application:
        name: aequitas-central-service
    main:
        allow-circular-references: true
    datasource:
        url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/aequitas_central}
        username: ${SPRING_DATASOURCE_USERNAME:aequitas}
        password: ${SPRING_DATASOURCE_PASSWORD:aequitas}
    jpa:
        hibernate:
            ddl-auto: none
        properties:
            hibernate:
                format_sql: true
                show-sql: false
                jdbc:
                    time_zone: UTC
    flyway:
        enabled: true
        locations: classpath:db/migration
        baseline-on-migrate: true
        mixed: false
    security:
        oauth2:
            resourceserver:
                jwt:
                    jwk-set-uri: ""
management:
    endpoints:
        web:
            exposure:
                include: health,info,metrics,prometheus
    endpoint:
        health:
            probes:
                enabled: true
outbox:
    relay-interval: PT5S
security:
    jwt:
        secret: ${SECURITY_JWT_SECRET:change-me-in-prod}
logging:
    level:
        "[com.aequitas.aequitascentralservice]": INFO
        "[org.hibernate.sql]": WARN
supabase:
    url: ${SUPABASE_URL:https://example.supabase.co}
    service-key: ${SUPABASE_SERVICE_KEY:dev-service-key}
    auth:
        jwk-set-uri: ${SUPABASE_JWK_SET_URI:${supabase.url}/auth/v1/keys}
